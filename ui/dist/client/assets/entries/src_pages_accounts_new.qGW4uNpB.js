import{c as j,d as S,r as c,j as e,n,e as T,i as N,a as k,b as A,o as C}from"../chunks/chunk-CuqYK7TH.js";import"../chunks/chunk-DDvKJFDk.js";/* empty css                      *//* empty css                      */const P={username:""},l=[{id:1,label:"Username",field:"name"},{id:2,label:"Review",field:"review"}];function z(){const{isAuthenticated:x,isSysadmin:h,loading:b}=j(),{showToast:d}=S(),[a,u]=c.useState(0),[t,m]=c.useState(P),[o,p]=c.useState(!1);if(b)return e.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center",children:e.jsx("div",{className:"px-8 py-4 text-lg font-bold uppercase tracking-wider",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:"Loading..."})});if(!x)return n("/login"),null;if(!h)return n("/dashboard"),null;const v=(r,i)=>{m(w=>({...w,[r]:i}))},s=()=>{switch(a){case 0:return t.username.trim().length>=2;case 1:return!0;default:return!1}},f=async()=>{p(!0);try{const r=await T.createAdminAccount(t.username.trim());d("Account Created",`"${t.username}" has been created`,"success"),n(`/accounts/${r.account_id}`)}catch{d("Error","Failed to create account. Username may already exist.","error"),p(!1)}},y=()=>{a<l.length-1?u(a+1):f()},g=()=>{a>0&&u(a-1)};return e.jsxs("div",{className:"min-h-[calc(100vh-56px)] p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>n("/accounts"),className:"inline-flex items-center gap-2 text-sm font-bold uppercase tracking-wider mb-4 transition-all duration-150 hover:translate-x-[-2px]",style:{color:"var(--color-border)"},children:[e.jsx("span",{children:"â†"}),e.jsx("span",{children:"Back to Accounts"})]}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight uppercase",style:{color:"var(--color-blue)"},children:"New Account"}),e.jsx("p",{className:"text-sm uppercase tracking-widest mt-1",style:{color:"var(--color-border)"},children:"Create a new user account"})]}),e.jsx("div",{className:"flex gap-1 mb-8",children:l.map((r,i)=>e.jsx("div",{className:"flex-1 h-2 transition-all duration-300",style:{backgroundColor:i<=a?"var(--color-blue)":"var(--color-surface)",border:"1px solid var(--color-border)"}},r.id))}),e.jsxs("div",{className:"max-w-2xl mx-auto p-8",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold uppercase tracking-tight",style:{color:"var(--color-blue)"},children:l[a].label}),e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider px-2 py-1",style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",color:"var(--color-border)"},children:["Step ",a+1," of ",l.length]})]}),e.jsxs("div",{className:"mb-8 min-h-[200px]",children:[a===0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-2 font-bold",style:{color:"var(--color-border)"},children:"Choose a username"}),e.jsx("input",{type:"text",value:t.username,onChange:r=>v("username",r.target.value),placeholder:"e.g., alice, bob, developer-1",className:"w-full px-4 py-3 text-lg outline-none transition-all duration-150",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)",color:"var(--color-text)"},onFocus:r=>{r.currentTarget.style.borderLeftWidth="4px",r.currentTarget.style.borderLeftColor="var(--color-blue)"},onBlur:r=>{r.currentTarget.style.borderLeftWidth="2px",r.currentTarget.style.borderLeftColor="var(--color-border)"},autoFocus:!0}),e.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--color-border)"},children:[t.username.length,"/50 characters (minimum 2)"]})]}),a===1&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm mb-6",style:{color:"var(--color-border)"},children:"Review the account details before creating."}),e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:[e.jsx("h3",{className:"text-xs uppercase tracking-wider font-bold mb-4",style:{color:"var(--color-border)"},children:"Account Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",style:{borderColor:"var(--color-border)"},children:[e.jsx("span",{style:{color:"var(--color-border)"},children:"Username"}),e.jsx("span",{className:"font-bold text-lg",children:t.username})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{style:{color:"var(--color-border)"},children:"Initial PAT"}),e.jsx("span",{className:"text-sm",style:{color:"var(--color-border)"},children:"Will be generated automatically"})]})]})]}),e.jsx("p",{className:"text-xs mt-4",style:{color:"var(--color-border)"},children:"A Personal Access Token (PAT) will be generated for this account. You can share it with the user to allow them to authenticate."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:g,disabled:a===0,className:"flex-1 px-6 py-4 text-sm font-bold uppercase tracking-wider transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",color:"var(--color-text)",boxShadow:a===0?"none":"4px 4px 0px var(--color-border)"},onMouseEnter:r=>{a>0&&(r.currentTarget.style.boxShadow="var(--shadow-soft-hover)",r.currentTarget.style.transform="translate(2px, 2px)")},onMouseLeave:r=>{a>0&&(r.currentTarget.style.boxShadow="var(--shadow-soft)",r.currentTarget.style.transform="translate(0, 0)")},children:"Back"}),e.jsx("button",{onClick:y,disabled:!s()||o,className:"flex-1 px-6 py-4 text-sm font-bold uppercase tracking-wider transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-blue)",border:"2px solid var(--color-border)",color:"white",boxShadow:s()&&!o?"4px 4px 0px var(--color-border)":"none"},onMouseEnter:r=>{s()&&!o&&(r.currentTarget.style.boxShadow="var(--shadow-soft-hover)",r.currentTarget.style.transform="translate(2px, 2px)")},onMouseLeave:r=>{s()&&!o&&(r.currentTarget.style.boxShadow="var(--shadow-soft)",r.currentTarget.style.transform="translate(0, 0)")},children:o?"Creating...":a===l.length-1?"Create Account":"Next"})]})]})]})}const E=Object.freeze(Object.defineProperty({__proto__:null,Page:z},Symbol.toStringTag,{value:"Module"})),R={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:C}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/accounts/new/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:E}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Layout.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:A}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:k}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:N}}};export{R as configValuesSerialized};

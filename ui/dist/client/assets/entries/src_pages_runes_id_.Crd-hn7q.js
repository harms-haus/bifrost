import{u as k,c as N,d as T,r as s,n as l,j as e,e as v,i as C,a as D,b as z,o as P}from"../chunks/chunk-CuqYK7TH.js";import"../chunks/chunk-DDvKJFDk.js";import{D as A}from"../chunks/chunk-DIZe1Ivj.js";/* empty css                      *//* empty css                      */const E={draft:{bg:"var(--color-bg)",border:"var(--color-border)",text:"var(--color-border)"},open:{bg:"var(--color-blue)",border:"var(--color-border)",text:"white"},in_progress:{bg:"var(--color-amber)",border:"var(--color-border)",text:"white"},fulfilled:{bg:"var(--color-green)",border:"var(--color-border)",text:"white"},sealed:{bg:"var(--color-purple)",border:"var(--color-border)",text:"white"}};function R(){var m;const d=(m=k().routeParams)==null?void 0:m.id,{realms:t,isAuthenticated:p,loading:i}=N(),{showToast:n}=T(),[o,g]=s.useState(null),[f,u]=s.useState(!0),[y,x]=s.useState(!1),[w,b]=s.useState(!1);s.useEffect(()=>{if(i)return;if(!p){l("/login");return}if(!d||t.length===0){u(!1);return}(async()=>{try{const c=await v.getRune(t[0],d);g(c)}catch{n("Error","Failed to load rune","error")}finally{u(!1)}})()},[i,p,t,d,n]);const j=async()=>{if(!(!o||t.length===0)){b(!0);try{await v.deleteRune(t[0],o.id),n("Rune Deleted",`"${o.title}" has been deleted`,"success"),l("/runes")}catch{n("Error","Failed to delete rune","error"),b(!1)}}},h=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=r=>E[r];if(i||f)return e.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center",children:e.jsx("div",{className:"px-8 py-4 text-lg font-bold uppercase tracking-wider",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:"Loading..."})});if(!o)return e.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center p-6",children:e.jsxs("div",{className:"p-8 text-center max-w-md",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 uppercase tracking-tight",children:"Rune Not Found"}),e.jsx("p",{className:"text-sm mb-6",style:{color:"var(--color-border)"},children:"The rune you're looking for doesn't exist or you don't have access to it."}),e.jsx("button",{onClick:()=>l("/runes"),className:"px-6 py-3 text-sm font-bold uppercase tracking-wider transition-all duration-150",style:{backgroundColor:"var(--color-amber)",border:"2px solid var(--color-border)",color:"white",boxShadow:"var(--shadow-soft)"},onMouseEnter:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft-hover)",r.currentTarget.style.transform="translate(2px, 2px)"},onMouseLeave:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft)",r.currentTarget.style.transform="translate(0, 0)"},children:"Back to Runes"})]})});const a=S(o.status);return e.jsxs("div",{className:"min-h-[calc(100vh-56px)] p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>l("/runes"),className:"inline-flex items-center gap-2 text-sm font-bold uppercase tracking-wider mb-4 transition-all duration-150 hover:translate-x-[-2px]",style:{color:"var(--color-border)"},children:[e.jsx("span",{children:"â†"}),e.jsx("span",{children:"Back to Runes"})]}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight uppercase",style:{color:"var(--color-amber)"},children:o.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsx("span",{className:"text-xs uppercase tracking-wider px-3 py-1 font-bold",style:{backgroundColor:a.bg,border:`2px solid ${a.border}`,color:a.text},children:o.status.replace("_"," ")}),e.jsxs("span",{className:"text-xs uppercase tracking-wider",style:{color:"var(--color-border)"},children:["ID: ",o.id]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 p-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-sm uppercase tracking-wider font-bold mb-4",style:{color:"var(--color-border)"},children:"Description"}),o.description?e.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",children:o.description}):e.jsx("p",{className:"text-base italic",style:{color:"var(--color-border)"},children:"No description provided"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-sm uppercase tracking-wider font-bold mb-4",style:{color:"var(--color-border)"},children:"Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-1",style:{color:"var(--color-border)"},children:"Status"}),e.jsx("span",{className:"text-xs uppercase tracking-wider px-2 py-1 font-bold",style:{backgroundColor:a.bg,border:`1px solid ${a.border}`,color:a.text},children:o.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-1",style:{color:"var(--color-border)"},children:"Priority"}),e.jsx("span",{className:"text-sm font-bold",children:o.priority})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-1",style:{color:"var(--color-border)"},children:"Created"}),e.jsx("span",{className:"text-sm",children:h(o.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-1",style:{color:"var(--color-border)"},children:"Updated"}),e.jsx("span",{className:"text-sm",children:h(o.updated_at)})]}),o.saga_id&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-1",style:{color:"var(--color-border)"},children:"Saga"}),e.jsx("span",{className:"text-sm font-mono",children:o.saga_id})]}),o.assignee_id&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs uppercase tracking-wider block mb-1",style:{color:"var(--color-border)"},children:"Assignee"}),e.jsx("span",{className:"text-sm font-mono",children:o.assignee_id})]})]})]}),o.tags.length>0&&e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-sm uppercase tracking-wider font-bold mb-4",style:{color:"var(--color-border)"},children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.tags.map(r=>e.jsx("span",{className:"text-xs px-2 py-1 font-semibold uppercase tracking-wider",style:{backgroundColor:"var(--color-amber)",border:"1px solid var(--color-border)",color:"white"},children:r},r))})]}),o.dependencies.length>0&&e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-sm uppercase tracking-wider font-bold mb-4",style:{color:"var(--color-border)"},children:"Dependencies"}),e.jsx("div",{className:"space-y-2",children:o.dependencies.map(r=>e.jsx("div",{className:"text-xs font-mono p-2",style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)"},children:r},r))})]}),e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-sm uppercase tracking-wider font-bold mb-4",style:{color:"var(--color-border)"},children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>l(`/runes/${o.id}/edit`),className:"w-full px-4 py-3 text-sm font-bold uppercase tracking-wider transition-all duration-150",style:{backgroundColor:"var(--color-amber)",border:"2px solid var(--color-border)",color:"white",boxShadow:"var(--shadow-soft)"},onMouseEnter:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft-hover)",r.currentTarget.style.transform="translate(2px, 2px)"},onMouseLeave:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft)",r.currentTarget.style.transform="translate(0, 0)"},children:"Edit Rune"}),e.jsx("button",{onClick:()=>x(!0),className:"w-full px-4 py-3 text-sm font-bold uppercase tracking-wider transition-all duration-150",style:{backgroundColor:"var(--color-red)",border:"2px solid var(--color-border)",color:"white",boxShadow:"var(--shadow-soft)"},onMouseEnter:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft-hover)",r.currentTarget.style.transform="translate(2px, 2px)"},onMouseLeave:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft)",r.currentTarget.style.transform="translate(0, 0)"},children:"Delete Rune"})]})]})]})]}),e.jsx(A,{open:y,onClose:()=>x(!1),title:"Delete Rune",description:`Are you sure you want to delete "${o.title}"? This action cannot be undone.`,confirmLabel:w?"Deleting...":"Delete",cancelLabel:"Cancel",onConfirm:j,color:"red"})]})}const _=Object.freeze(Object.defineProperty({__proto__:null,Page:R},Symbol.toStringTag,{value:"Module"})),V={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:P}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/runes/[id]/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:_}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Layout.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:z}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:D}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:C}}};export{V as configValuesSerialized};

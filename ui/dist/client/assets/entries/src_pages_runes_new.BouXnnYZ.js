import{c as T,d as S,r as d,j as r,n as u,e as N,i as k,a as C,b as L,o as P}from"../chunks/chunk-CuqYK7TH.js";import"../chunks/chunk-DDvKJFDk.js";/* empty css                      *//* empty css                      */const z={title:"",description:"",priority:2,status:"draft",branch:""},n=[{id:1,label:"Title",field:"title"},{id:2,label:"Description",field:"description"},{id:3,label:"Priority",field:"priority"},{id:4,label:"Status",field:"status"},{id:5,label:"Branch",field:"branch"}];function E(){const{realms:p,isAuthenticated:v,loading:f}=T(),{showToast:x}=S(),[o,b]=d.useState(0),[t,m]=d.useState(z),[s,h]=d.useState(!1);if(f)return r.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center",children:r.jsx("div",{className:"px-8 py-4 text-lg font-bold uppercase tracking-wider",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:"Loading..."})});if(!v)return u("/login"),null;if(p.length===0)return r.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center p-6",children:r.jsxs("div",{className:"p-8 text-center max-w-md",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 uppercase tracking-tight",children:"No Realms Found"}),r.jsx("p",{className:"text-sm mb-6",style:{color:"var(--color-border)"},children:"You need access to a realm to create runes."})]})});const l=(e,a)=>{m(w=>({...w,[e]:a}))},i=()=>{switch(o){case 0:return t.title.trim().length>=3;case 1:return!0;case 2:return t.priority>=1&&t.priority<=4;case 3:return t.status==="draft"||t.status==="open";case 4:return!0;default:return!1}},y=async()=>{h(!0);try{const e={title:t.title.trim(),description:t.description.trim()||void 0,realm_id:p[0]},a=await N.createRune(e);x("Rune Created",`"${a.title}" has been created`,"success"),u(`/runes/${a.id}`)}catch{x("Error","Failed to create rune","error"),h(!1)}},g=()=>{o<n.length-1?b(o+1):y()},j=()=>{o>0&&b(o-1)},c=(e,a="var(--color-amber)")=>({backgroundColor:e?a:"var(--color-bg)",border:"2px solid var(--color-border)",color:e?"white":"var(--color-text)",boxShadow:e?"4px 4px 0px var(--color-border)":"2px 2px 0px var(--color-border)"});return r.jsxs("div",{className:"min-h-[calc(100vh-56px)] p-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("button",{onClick:()=>u("/runes"),className:"inline-flex items-center gap-2 text-sm font-bold uppercase tracking-wider mb-4 transition-all duration-150 hover:translate-x-[-2px]",style:{color:"var(--color-border)"},children:[r.jsx("span",{children:"â†"}),r.jsx("span",{children:"Back to Runes"})]}),r.jsx("h1",{className:"text-4xl font-bold tracking-tight uppercase",style:{color:"var(--color-amber)"},children:"New Rune"}),r.jsx("p",{className:"text-sm uppercase tracking-widest mt-1",style:{color:"var(--color-border)"},children:"Create a new work item"})]}),r.jsx("div",{className:"flex gap-1 mb-8",children:n.map((e,a)=>r.jsx("div",{className:"flex-1 h-2 transition-all duration-300",style:{backgroundColor:a<=o?"var(--color-amber)":"var(--color-surface)",border:"1px solid var(--color-border)"}},e.id))}),r.jsxs("div",{className:"max-w-2xl mx-auto p-8",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold uppercase tracking-tight",style:{color:"var(--color-amber)"},children:n[o].label}),r.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider px-2 py-1",style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",color:"var(--color-border)"},children:["Step ",o+1," of ",n.length]})]}),r.jsxs("div",{className:"mb-8 min-h-[200px]",children:[o===0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase tracking-wider block mb-2 font-bold",style:{color:"var(--color-border)"},children:"What's the title of your rune?"}),r.jsx("input",{type:"text",value:t.title,onChange:e=>l("title",e.target.value),placeholder:"Enter a descriptive title...",className:"w-full px-4 py-3 text-lg outline-none transition-all duration-150",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)",color:"var(--color-text)"},onFocus:e=>{e.currentTarget.style.borderLeftWidth="4px",e.currentTarget.style.borderLeftColor="var(--color-amber)"},onBlur:e=>{e.currentTarget.style.borderLeftWidth="2px",e.currentTarget.style.borderLeftColor="var(--color-border)"},autoFocus:!0}),r.jsxs("p",{className:"text-xs mt-2",style:{color:"var(--color-border)"},children:[t.title.length,"/100 characters (minimum 3)"]})]}),o===1&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase tracking-wider block mb-2 font-bold",style:{color:"var(--color-border)"},children:"Describe your rune (optional)"}),r.jsx("textarea",{value:t.description,onChange:e=>l("description",e.target.value),placeholder:"Add details about what this rune involves...",rows:6,className:"w-full px-4 py-3 text-base outline-none resize-none transition-all duration-150",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)",color:"var(--color-text)"},onFocus:e=>{e.currentTarget.style.borderLeftWidth="4px",e.currentTarget.style.borderLeftColor="var(--color-amber)"},onBlur:e=>{e.currentTarget.style.borderLeftWidth="2px",e.currentTarget.style.borderLeftColor="var(--color-border)"}})]}),o===2&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase tracking-wider block mb-4 font-bold",style:{color:"var(--color-border)"},children:"Select priority level"}),r.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{value:4,label:"P1",desc:"Critical",color:"var(--color-red)"},{value:3,label:"P2",desc:"High",color:"var(--color-amber)"},{value:2,label:"P3",desc:"Medium",color:"var(--color-blue)"},{value:1,label:"P4",desc:"Low",color:"var(--color-border)"}].map(e=>r.jsxs("button",{onClick:()=>l("priority",e.value),className:"p-4 text-center transition-all duration-150",style:c(t.priority===e.value,e.color),onMouseEnter:a=>{t.priority!==e.value&&(a.currentTarget.style.transform="translate(-2px, -2px)",a.currentTarget.style.boxShadow="var(--shadow-soft)")},onMouseLeave:a=>{t.priority!==e.value&&(a.currentTarget.style.transform="translate(0, 0)",a.currentTarget.style.boxShadow="var(--shadow-soft-hover)")},children:[r.jsx("div",{className:"text-2xl font-bold",children:e.label}),r.jsx("div",{className:"text-xs uppercase tracking-wider mt-1",children:e.desc})]},e.value))})]}),o===3&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase tracking-wider block mb-4 font-bold",style:{color:"var(--color-border)"},children:"Initial status"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:()=>l("status","draft"),className:"p-6 text-left transition-all duration-150",style:c(t.status==="draft","var(--color-border)"),onMouseEnter:e=>{t.status!=="draft"&&(e.currentTarget.style.transform="translate(-2px, -2px)",e.currentTarget.style.boxShadow="var(--shadow-soft)")},onMouseLeave:e=>{t.status!=="draft"&&(e.currentTarget.style.transform="translate(0, 0)",e.currentTarget.style.boxShadow="var(--shadow-soft-hover)")},children:[r.jsx("div",{className:"text-xl font-bold uppercase",children:"Draft"}),r.jsx("div",{className:"text-xs mt-2 opacity-70",children:"Work in progress, not ready for review"})]}),r.jsxs("button",{onClick:()=>l("status","open"),className:"p-6 text-left transition-all duration-150",style:c(t.status==="open"),onMouseEnter:e=>{t.status!=="open"&&(e.currentTarget.style.transform="translate(-2px, -2px)",e.currentTarget.style.boxShadow="var(--shadow-soft)")},onMouseLeave:e=>{t.status!=="open"&&(e.currentTarget.style.transform="translate(0, 0)",e.currentTarget.style.boxShadow="var(--shadow-soft-hover)")},children:[r.jsx("div",{className:"text-xl font-bold uppercase",children:"Open"}),r.jsx("div",{className:"text-xs mt-2 opacity-70",children:"Ready to be picked up and worked on"})]})]})]}),o===4&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs uppercase tracking-wider block mb-2 font-bold",style:{color:"var(--color-border)"},children:"Associate a Git branch (optional)"}),r.jsx("input",{type:"text",value:t.branch,onChange:e=>l("branch",e.target.value),placeholder:"e.g., feature/my-feature or fix/bug-name",className:"w-full px-4 py-3 text-lg font-mono outline-none transition-all duration-150",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)",color:"var(--color-text)"},onFocus:e=>{e.currentTarget.style.borderLeftWidth="4px",e.currentTarget.style.borderLeftColor="var(--color-amber)"},onBlur:e=>{e.currentTarget.style.borderLeftWidth="2px",e.currentTarget.style.borderLeftColor="var(--color-border)"},autoFocus:!0}),r.jsx("p",{className:"text-xs mt-2",style:{color:"var(--color-border)"},children:"Branch helps track which code changes relate to this rune"})]})]}),o===4&&r.jsxs("div",{className:"mb-6 p-4",style:{backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)"},children:[r.jsx("h3",{className:"text-xs uppercase tracking-wider font-bold mb-3",style:{color:"var(--color-border)"},children:"Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--color-border)"},children:"Title:"}),r.jsx("span",{className:"font-medium",children:t.title})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--color-border)"},children:"Priority:"}),r.jsxs("span",{className:"font-bold",children:["P",5-t.priority]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--color-border)"},children:"Status:"}),r.jsx("span",{className:"font-bold uppercase",children:t.status})]}),t.branch&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{style:{color:"var(--color-border)"},children:"Branch:"}),r.jsx("span",{className:"font-mono",children:t.branch})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:j,disabled:o===0,className:"flex-1 px-6 py-4 text-sm font-bold uppercase tracking-wider transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",color:"var(--color-text)",boxShadow:o===0?"none":"4px 4px 0px var(--color-border)"},onMouseEnter:e=>{o>0&&(e.currentTarget.style.boxShadow="var(--shadow-soft-hover)",e.currentTarget.style.transform="translate(2px, 2px)")},onMouseLeave:e=>{o>0&&(e.currentTarget.style.boxShadow="var(--shadow-soft)",e.currentTarget.style.transform="translate(0, 0)")},children:"Back"}),r.jsx("button",{onClick:g,disabled:!i()||s,className:"flex-1 px-6 py-4 text-sm font-bold uppercase tracking-wider transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-amber)",border:"2px solid var(--color-border)",color:"white",boxShadow:i()&&!s?"4px 4px 0px var(--color-border)":"none"},onMouseEnter:e=>{i()&&!s&&(e.currentTarget.style.boxShadow="var(--shadow-soft-hover)",e.currentTarget.style.transform="translate(2px, 2px)")},onMouseLeave:e=>{i()&&!s&&(e.currentTarget.style.boxShadow="var(--shadow-soft)",e.currentTarget.style.transform="translate(0, 0)")},children:s?"Creating...":o===n.length-1?"Create Rune":"Next"})]})]})]})}const A=Object.freeze(Object.defineProperty({__proto__:null,Page:E},Symbol.toStringTag,{value:"Module"})),B={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:P}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/runes/new/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:A}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Layout.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:L}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:C}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:k}}};export{B as configValuesSerialized};

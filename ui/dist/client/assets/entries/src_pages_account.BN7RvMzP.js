import{r as l,c as z,d as E,n as D,e as u,j as e,i as L,a as U,b as R,o as _}from"../chunks/chunk-CuqYK7TH.js";import"../chunks/chunk-DDvKJFDk.js";/* empty css                      *//* empty css                      */function M(){const[x,h]=l.useState([]),[N,b]=l.useState(!0),[c,m]=l.useState(null),[i,v]=l.useState(!1),[d,f]=l.useState(null),{isAuthenticated:y,loading:n,accountId:a,username:k,roles:g,realms:p,realmNames:w,isSysadmin:t}=z(),{showToast:s}=E();l.useEffect(()=>{if(!n){if(!y){D("/login");return}j()}},[n,y]);const j=async()=>{if(a){b(!0);try{const r=await u.getPATs(a);h(r)}catch{s("Error","Failed to load PATs","error")}finally{b(!1)}}},S=async()=>{if(a){v(!0);try{const r=await u.createPAT(a);m(r.pat),await j(),s("Success","PAT created successfully","success")}catch{s("Error","Failed to create PAT","error")}finally{v(!1)}}},A=async r=>{if(a){f(r);try{await u.revokePAT(a,r),h(o=>o.filter(C=>C.id!==r)),s("Success","PAT revoked successfully","success")}catch{s("Error","Failed to revoke PAT","error")}finally{f(null)}}},P=async r=>{try{await navigator.clipboard.writeText(r),s("Copied","PAT copied to clipboard","success")}catch{s("Error","Failed to copy to clipboard","error")}},T=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?e.jsx("div",{className:"min-h-[calc(100vh-56px)] flex items-center justify-center",children:e.jsx("div",{className:"px-8 py-4 text-lg font-bold uppercase tracking-wider",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:"Loading..."})}):e.jsxs("div",{className:"min-h-[calc(100vh-56px)] p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight uppercase",style:{color:"var(--color-purple)"},children:"Account"}),e.jsx("p",{className:"text-sm uppercase tracking-widest mt-1",style:{color:"var(--color-border)"},children:"Manage your profile and access tokens"})]}),e.jsxs("div",{className:"p-6 mb-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsx("h2",{className:"text-xl font-bold uppercase tracking-wide mb-6",children:"Profile Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-border)"},children:"Username"}),e.jsx("div",{className:"p-3 font-mono text-lg",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:k})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-border)"},children:"Account ID"}),e.jsx("div",{className:"p-3 font-mono text-sm truncate",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-border)"},children:"System Admin"}),e.jsx("div",{className:"p-3 font-bold uppercase",style:{backgroundColor:t?"var(--color-purple)":"var(--color-surface)",border:"2px solid var(--color-border)",color:t?"white":"var(--color-border)"},children:t?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-border)"},children:["Realms (",p.length,")"]}),e.jsx("div",{className:"p-3 min-h-[48px] flex flex-wrap gap-2",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:p.length===0?e.jsx("span",{style:{color:"var(--color-border)"},children:"None"}):p.map(r=>e.jsx("span",{className:"px-2 py-1 text-xs font-bold uppercase",style:{backgroundColor:"var(--color-purple)",color:"white",border:"1px solid var(--color-border)"},children:w[r]||r},r))})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-xs uppercase tracking-wider font-semibold mb-2",style:{color:"var(--color-border)"},children:"Roles"}),e.jsx("div",{className:"p-3 space-y-2",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:Object.entries(g).length===0?e.jsx("span",{style:{color:"var(--color-border)"},children:"No roles assigned"}):Object.entries(g).map(([r,o])=>e.jsxs("div",{className:"flex items-center justify-between p-2",style:{border:"1px solid var(--color-border)"},children:[e.jsx("span",{className:"font-mono text-sm",children:w[r]||r}),e.jsx("span",{className:"px-2 py-1 text-xs font-bold uppercase",style:{backgroundColor:"var(--color-purple)",color:"white"},children:o})]},r))})]})]}),e.jsxs("div",{className:"p-6",style:{backgroundColor:"var(--color-bg)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold uppercase tracking-wide",children:"Personal Access Tokens"}),e.jsx("button",{onClick:S,disabled:i||!t,className:"px-4 py-2 text-xs font-bold uppercase tracking-wider transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-purple)",border:"2px solid var(--color-border)",color:"white",boxShadow:"var(--shadow-soft)"},onMouseEnter:r=>{!i&&t&&(r.currentTarget.style.boxShadow="var(--shadow-soft-hover)",r.currentTarget.style.transform="translate(2px, 2px)")},onMouseLeave:r=>{r.currentTarget.style.boxShadow="var(--shadow-soft)",r.currentTarget.style.transform="translate(0, 0)"},children:i?"Creating...":"Create PAT"})]}),!t&&e.jsx("div",{className:"p-4 mb-4",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:e.jsx("p",{className:"text-sm",style:{color:"var(--color-border)"},children:"PAT management requires system admin privileges. Contact your administrator."})}),c&&e.jsxs("div",{className:"p-4 mb-6",style:{backgroundColor:"var(--color-green)",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-white",children:"New PAT Created - Copy Now!"}),e.jsx("button",{onClick:()=>m(null),className:"text-white hover:opacity-75",children:"âœ•"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 p-2 text-sm font-mono break-all",style:{backgroundColor:"rgba(255,255,255,0.9)",border:"1px solid var(--color-border)"},children:c}),e.jsx("button",{onClick:()=>P(c),className:"px-3 py-2 text-xs font-bold uppercase",style:{backgroundColor:"white",border:"2px solid var(--color-border)",boxShadow:"var(--shadow-soft)"},children:"Copy"})]}),e.jsx("p",{className:"text-xs mt-2 text-white opacity-80",children:"This token will only be shown once. Store it securely."})]}),N?e.jsx("div",{className:"text-center py-8",children:e.jsx("span",{style:{color:"var(--color-border)"},children:"Loading PATs..."})}):x.length===0?e.jsx("div",{className:"text-center py-8",style:{color:"var(--color-border)"},children:e.jsx("p",{className:"text-sm uppercase tracking-wider",children:"No PATs found. Create one to get started."})}):e.jsx("div",{className:"space-y-2",children:x.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 transition-all duration-150",style:{backgroundColor:"var(--color-surface)",border:"2px solid var(--color-border)"},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-3 h-3",style:{backgroundColor:"var(--color-purple)"}}),e.jsxs("div",{children:[e.jsx("code",{className:"font-mono text-sm",children:r.id}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxs("span",{className:"text-xs",style:{color:"var(--color-border)"},children:["Created: ",T(r.created_at)]}),r.last_used&&e.jsxs("span",{className:"text-xs",style:{color:"var(--color-border)"},children:["Last used: ",T(r.last_used)]})]})]})]}),e.jsx("button",{onClick:()=>A(r.id),disabled:d===r.id,className:"px-3 py-1 text-xs font-bold uppercase tracking-wider transition-all duration-150 disabled:opacity-50",style:{backgroundColor:"var(--color-red)",border:"2px solid var(--color-border)",color:"white",boxShadow:"var(--shadow-soft)"},onMouseEnter:o=>{d!==r.id&&(o.currentTarget.style.boxShadow="var(--shadow-soft-hover)",o.currentTarget.style.transform="translate(1px, 1px)")},onMouseLeave:o=>{o.currentTarget.style.boxShadow="var(--shadow-soft-hover)",o.currentTarget.style.transform="translate(0, 0)"},children:d===r.id?"Revoking...":"Revoke"})]},r.id))})]})]})}const O=Object.freeze(Object.defineProperty({__proto__:null,Page:M},Symbol.toStringTag,{value:"Module"})),q={hasServerOnlyHook:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},guardEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:_}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/account/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:O}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Layout.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:R}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/pages/+Wrapper.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:U}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:L}}};export{q as configValuesSerialized};
